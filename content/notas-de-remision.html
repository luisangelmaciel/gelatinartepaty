<!DOCTYPE html>
<html lang="es-MX">

<head>
  <!-- Metadata General -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Simplifica y gestiona tus transacciones comerciales con Notas de Remisión Go by XBR Power Crystal Code. Emite y organiza notas de remisión de manera eficiente y profesional.">
  <meta name="keywords" content="notas de remisión, gestión de transacciones, notas de venta, XBR Power Crystal Code, organización comercial, herramientas empresariales, software de remisión, notas de remisión eficientes">
  <meta name="author" content="Luis Angel Maciel">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://notas-de-remision-go.vercel.app/">
  <link rel="alternate" href="https://notasderemisiongo.xbrpowercrystalcode.com" hreflang="es-MX">

  <!-- Title -->
  <title>Notas de Remisión Go by XBR Power Crystal Code | Simplifica tus Transacciones</title>
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://notas-de-remision-go.vercel.app/img/favicon.png">

  <!-- CSS -->
   <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://notas-de-remision-go.vercel.app/css/styles.css" rel="stylesheet">
  <link rel="stylesheet" href="https://notas-de-remision-go.vercel.app/css/animate.css">
  <link href="https://notas-de-remision-go.vercel.app/css/main.min.css?v=1.0.0" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css&display=swap">

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- JS Implementing Plugins -->
  <script src="https://notas-de-remision-go.vercel.app/js/preline.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

  <!-- Open Graph (OG) -->
  <meta property="og:title" content="Notas de Remisión Go by XBR Power Crystal Code | Simplifica tus Transacciones">
  <meta property="og:description" content="Simplifica y gestiona tus transacciones comerciales con Notas de Remisión Go by XBR Power Crystal Code. Emite y organiza notas de remisión de manera eficiente y profesional.">
  <meta property="og:image" content="/ogimagen.jpg">
  <meta property="og:url" content="https://notas-de-remision-go.vercel.app/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Notas de Remisión Go">
  <meta property="og:locale" content="es_MX">
  <link href="/favicon.png" rel="shortcut icon" type="image/x-icon" />
  <link href="/favicon.png" rel="apple-touch-icon" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Notas de Remisión Go by XBR Power Crystal Code | Simplifica tus Transacciones">
  <meta name="twitter:description" content="Simplifica y gestiona tus transacciones comerciales con Notas de Remisión Go by XBR Power Crystal Code. Emite y organiza notas de remisión de manera eficiente y profesional.">
  <meta name="twitter:image" content="https://notas-de-remision-go.vercel.app/img/ogimage.jpg">
  <meta name="twitter:site" content="@XBRPowerCrystalCode">
  <meta name="twitter:creator" content="@luisangelmaciel">

  <!-- JSON-LD Schema -->
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "SoftwareApplication",
    "name": "Notas de Remisión Go by XBR Power Crystal Code",
    "description": "Simplifica y gestiona tus transacciones comerciales con Notas de Remisión Go by XBR Power Crystal Code. Emite y organiza notas de remisión de manera eficiente y profesional.",
    "image": "https://notas-de-remision-go.vercel.app/img/ogimage.jpg",
    "url": "https://notasderemisiongo.xbrpowercrystalcode.com",
    "applicationCategory": "BusinessApplication",
    "offers": {
      "@type": "Offer",
      "price": "0.00",
      "priceCurrency": "USD"
    },
    "operatingSystem": "All",
    "softwareVersion": "1.0.0",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "reviewCount": "50"
    },
    "author": {
      "@type": "Person",
      "name": "Luis Angel Maciel"
    }
  }
  </script>
</head>


    
<body class="bg-gray-100 p-6">
    <div class="max-w-3xl mx-auto bg-white shadow-md rounded-lg p-8">
         <h1 class="text-3xl font-bold text-center mb-6">Materias Primas Pa´Ty<br><span style="color:grey"><small>NOTA DE REMISIÓN</small></span></h1>
        <form class="gform pure-form pure-form-stacked" method="POST" data-email="luis.el.de.las.tarjetas@gmail.com"
  action="https://script.google.com/macros/s/AKfycbwOBg05h-H3-7sbFFr-aoVsgewy4ZGv-mfv-QJjqWbZpQigYd3AslrbLVe_aRRmxuR9zw/exec">
       
            <div class="form-elements">
                <div class="mb-6">
                    <div class="flex justify-between">
                        <div>
                          <input type="hidden" name="clientEmail" id="clientEmail">  <label for="numeroNota" class="label">N° de Nota:</label>
                            <input type="text" id="numeroNota" name="numeroNota" class="input" readonly>
                        </div>
                        <div>
                            <label for="fecha" class="label">Fecha:</label>
                            <input type="text" id="fecha" name="fecha" class="input" readonly>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <h2 class="text-xl font-semibold mb-2">Datos del Cliente</h2>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="nombre" class="label">Nombre:</label>
                            <input type="text" id="nombre" name="nombre" class="input" required>
                        </div>
                        <div>
                            <label for="vendedor" class="label">Nombre de vendedor:</label>
                            <input type="text" id="vendedor" name="vendedor" class="input">
                        </div>
                        <div>
                            <label for="direccion" class="label">Dirección:</label>
                            <input type="text" id="direccion" name="direccion" class="input">
                        </div>
                        <div>
                            <label for="email" class="label">Email:</label>
                            <input type="email" id="email" name="email" class="input" required>
                        </div>
                        <div>
                            <label for="whatsapp" class="label">WhatsApp/Teléfono:</label>
                            <input type="tel" id="whatsapp" name="whatsapp" class="input">
                        </div>
                    </div>
                </div>

                <table class="w-full mb-6">
                    <thead>
                        <tr class="bg-gray-200">
                            <th class="border px-4 py-2">Artículo</th>
                            <th class="border px-4 py-2">Cantidad</th>
                            <th class="border px-4 py-2">Precio Unitario</th>
                            <th class="border px-4 py-2">Precio Total</th>
                        </tr>
                    </thead>
                    <tbody id="itemsTable">
                        <!-- Filas de elementos se agregarán aquí dinámicamente -->
                    </tbody>
                </table>

                <button type="button" id="addItemBtn" class="bg-blue-500 text-white px-4 py-2 rounded mb-6">Agregar Item</button>

                <div class="flex justify-end space-x-4 mb-6">
                    <div>
                        <label for="subTotal" class="label">Sub-Total:</label>
                        <input type="text" id="subTotal" name="subTotal" class="input" readonly>
                    </div>
                    <div>
                        <label for="ivaPercent" class="label">IVA (%):</label>
                        <input type="number" id="ivaPercent" name="ivaPercent" class="input w-16" value="0">
                    </div>
                    <div>
                        <label for="total" class="label">Total:</label>
                        <input type="text" id="total" name="total" class="input" readonly>
                    </div>
                </div>

                <div class="mb-6">
                    <label class="control control--checkbox">
                        <input type="checkbox" id="terminosCondiciones" name="terminosCondiciones" required>
                        <span class="control__label">Aceptar términos y condiciones</span>
                    </label>
                </div>

                <button type="submit" id="js-comm_btn" class="ag-comm_btn bg-blue-500 text-white px-4 py-2 rounded mb-6">Enviar</button>
              
                <span id="wait-message" class="wait" style="display: none;">Espere un momento, por favor...</span>
            </div>

            <div class="thankyou_message" style="display:none;">
                <h2 class="text-2xl font-bold mb-4">¡Gracias por su compra en Materias Primas Paty!</h2>
                <p class="mb-2">Apreciamos su confianza en nuestros productos y servicios.</p>
                <p>Su nota de remisión ha sido procesada con éxito. Si tiene alguna pregunta, no dude en contactarnos.</p>

  <button type="button" id="resetBtn" class="bg-red-500 text-white px-4 py-2 rounded">Reiniciar</button>
                <button type="button" id="downloadBtn" class="bg-green-500 text-white px-4 py-2 rounded">Descargar JSON</button>
            </div>
        </form>

        <div class="mt-8">
            <h2 class="text-2xl font-semibold mb-4">Registro de Notas Enviadas</h2>
            <ul id="notasEnviadas" class="list-disc pl-5"></ul>
        </div>
    </div>

    <script>
        const itemOptions = [
            'Bolsas de kilo',
            'Bolsas medio kilo',
            'Bolsas de camiseta 1',
            'Bolsas de camiseta 2',
            'Bolsas de camiseta 3',
            'Bolsa de basura 60x90'
        ];

        let numeroNota = parseInt(localStorage.getItem('numeroNota')) || 1;
        let notasEnviadas = JSON.parse(localStorage.getItem('notasEnviadas')) || [];

        function actualizarNumeroNota() {
            document.getElementById('numeroNota').value = numeroNota;
        }

        function actualizarFecha() {
            const hoy = new Date();
            document.getElementById('fecha').value = hoy.toLocaleDateString();
        }

        function addItem() {
            const newRow = document.createElement('tr');
            const optionsHtml = itemOptions.map(item => `<option value="${item}">${item}</option>`).join('');
            newRow.innerHTML = `
                <td class="border px-4 py-2">
                    <select name="articulo[]" class="w-full">
                        ${optionsHtml}
                    </select>
                </td>
                <td class="border px-4 py-2"><input type="number" name="cantidad[]" class="w-full cantidad"></td>
                <td class="border px-4 py-2"><input type="number" name="precioUnitario[]" class="w-full precioUnitario"></td>
                <td class="border px-4 py-2"><input type="number" name="precioTotal[]" class="w-full precioTotal" readonly></td>
            `;
            document.getElementById('itemsTable').appendChild(newRow);

            newRow.querySelector('.cantidad').addEventListener('input', calculateRowTotal);
            newRow.querySelector('.precioUnitario').addEventListener('input', calculateRowTotal);
        }

        function calculateRowTotal(event) {
            const row = event.target.closest('tr');
            const cantidad = parseFloat(row.querySelector('.cantidad').value) || 0;
            const precioUnitario = parseFloat(row.querySelector('.precioUnitario').value) || 0;
            const precioTotal = cantidad * precioUnitario;
            row.querySelector('.precioTotal').value = precioTotal.toFixed(2);
            calculateTotal();
        }

        function calculateTotal() {
            const preciosTotales = document.querySelectorAll('.precioTotal');
            let subTotal = 0;
            preciosTotales.forEach(input => {
                subTotal += parseFloat(input.value) || 0;
            });

            const ivaPercent = parseFloat(document.getElementById('ivaPercent').value) || 0;
            const iva = subTotal * (ivaPercent / 100);
            const total = subTotal + iva;

            document.getElementById('subTotal').value = subTotal.toFixed(2);
            document.getElementById('total').value = total.toFixed(2);
        }

        function handleFormSubmit(event) {
            event.preventDefault();
            var form = event.target;
            var data = getFormData(form);

            document.getElementById('wait-message').style.display = 'block';
            document.getElementById('js-comm_btn').disabled = true;

            // Simular envío exitoso
            setTimeout(function() {
                document.querySelector('.form-elements').style.display = 'none';
                document.querySelector('.thankyou_message').style.display = 'block';
                document.getElementById('wait-message').style.display = 'none';

                // Guardar nota enviada
                const notaCompleta = {
                    numero: numeroNota,
                    fecha: document.getElementById('fecha').value,
                    cliente: document.getElementById('nombre').value,
                    vendedor: document.getElementById('vendedor').value,
                    direccion: document.getElementById('direccion').value,
                    email: document.getElementById('email').value,
                    whatsapp: document.getElementById('whatsapp').value,
                    items: getItems(),
                    subTotal: document.getElementById('subTotal').value,
                    iva: document.getElementById('ivaPercent').value,
                    total: document.getElementById('total').value
                };
                notasEnviadas.push(notaCompleta);
                localStorage.setItem('notasEnviadas', JSON.stringify(notasEnviadas));

                // Incrementar número de nota
                numeroNota++;
                localStorage.setItem('numeroNota', numeroNota);

                actualizarListaNotasEnviadas();
            }, 2000);
        }

        function getItems() {
            const items = [];
            const filas = document.querySelectorAll('#itemsTable tr');
            filas.forEach(fila => {
                items.push({
                    articulo: fila.querySelector('select').value,
                    cantidad: fila.querySelector('.cantidad').value,
                    precioUnitario: fila.querySelector('.precioUnitario').value,
                    precioTotal: fila.querySelector('.precioTotal').value
                });
            });
            return items;
        }

        function getFormData(form) {
            var formData = new FormData(form);
            return Object.fromEntries(formData);
        }

        function resetForm() {
            document.querySelector('form').reset();
            document.getElementById('itemsTable').innerHTML = '';
            addItem();
            actualizarNumeroNota();
            actualizarFecha();
        }

        function actualizarListaNotasEnviadas() {
            const lista = document.getElementById('notasEnviadas');
            lista.innerHTML = '';
            notasEnviadas.forEach(nota => {
                const li = document.createElement('li');
                li.textContent = `Nota ${nota.numero} - ${nota.fecha} - ${nota.cliente} - Total: $${nota.total}`;
                lista.appendChild(li);
            });
        }

        function downloadJSON() {
            const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(notasEnviadas, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", "notas-de-remision-materias-primas-paty.json");
            document.body.appendChild(downloadAnchorNode); // required for firefox
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
        }

        document.getElementById('addItemBtn').addEventListener('click', addItem);
        document.getElementById('ivaPercent').addEventListener('input', calculateTotal);
        document.querySelector("form.gform").addEventListener("submit", handleFormSubmit);
        document.getElementById('resetBtn').addEventListener('click', resetForm);
        document.getElementById('downloadBtn').addEventListener('click', downloadJSON);

        // Inicialización
        actualizarNumeroNota();
        actualizarFecha();
        addItem();
        actualizarListaNotasEnviadas();
    </script>
</body>
</html>
<script data-cfasync="false" type="text/javascript"> // Función para validar el correo electrónico
function validEmail(email) {
  var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
  return re.test(email);
}

// Función para manejar el envío del formulario
function handleFormSubmit(event) {
  event.preventDefault(); // Prevenir el envío del formulario
  var form = event.target;
  var data = getFormData(form);

  // Guardar los datos del formulario en localStorage
  localStorage.setItem('formData', JSON.stringify(data));


  // Mostrar la leyenda de "espera"
  var waitMessage = document.getElementById('wait-message');
  waitMessage.style.display = 'block';

  if(data.email && !validEmail(data.email)) {
    var invalidEmail = form.querySelector(".email-invalid");
    if (invalidEmail) {
      invalidEmail.style.display = "block";
      return false;
    }
  } else {
    disableAllButtons(form);
    var url = form.action;
    var xhr = new XMLHttpRequest();
    xhr.open('POST', url);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.onreadystatechange = function() {
        console.log(xhr.status, xhr.statusText);
        console.log(xhr.responseText);
        var formElements = form.querySelector(".form-elements");
        if (formElements) {
          formElements.style.display = "none"; // ocultar formulario
        }
        var thankYouMessage = form.querySelector(".thankyou_message");
        if (thankYouMessage) {
          thankYouMessage.style.display = "block"; // mostrar mensaje de agradecimiento
        }
        waitMessage.style.display = 'none'; // ocultar leyenda de "espera"
        return;
    };
    var encoded = Object.keys(data).map(function(k) {
        return encodeURIComponent(k) + "=" + encodeURIComponent(data[k]);
    }).join('&');
    xhr.send(encoded);
  }
}

// Función para deshabilitar todos los botones del formulario
function disableAllButtons(form) {
  var buttons = form.querySelectorAll("button");
  for (var i = 0; i < buttons.length; i++) {
    buttons[i].disabled = true;
  }
}

// Función para obtener los datos del formulario
function getFormData(form) {
  var elements = form.elements;
  var fields = Object.keys(elements).filter(function(k) {
        return (elements[k].name !== "honeypot");
  }).map(function(k) {
    if(elements[k].name !== undefined) {
      return elements[k].name;
    } else if(elements[k].length > 0) {
      return elements[k].item(0).name;
    }
  }).filter(function(item, pos, self) {
    return self.indexOf(item) == pos && item;
  });

  var formData = {};
  fields.forEach(function(name){
    var element = elements[name];
    formData[name] = element.value;
    if (element.length) {
      var data = [];
      for (var i = 0; i < element.length; i++) {
        var item = element.item(i);
        if (item.checked || item.selected) {
          data.push(item.value);
        }
      }
      formData[name] = data.join(', ');
    }
  });

  formData.formDataNameOrder = JSON.stringify(fields);
  formData.formGoogleSheetName = form.dataset.sheet || "Hoja 1"; // default sheet name
  formData.formGoogleSendEmail = form.dataset.email || "";

  console.log(formData);
  return formData;
}

// Agregar el event listener al formulario para manejar el envío
document.addEventListener("DOMContentLoaded", function() {
  var form = document.querySelector("form.gform");
  form.addEventListener("submit", handleFormSubmit, false);
});
    
    // tiem
    // Obtener el elemento que contiene la leyenda de "espera"
const waitMessage = document.getElementById('wait-message');

// Mostrar la leyenda de "espera" cuando se envía el formulario
form.addEventListener('submit', function() {
  waitMessage.style.display = 'block';
  waitMessage.textContent = 'Espere un momento, por favor...';

  // Cambiar el texto después de 1.5 segundos
  setTimeout(function() {
    waitMessage.textContent = 'Ya casi estamos...';
  }, 250);

  // Cambiar el texto después de 3 segundos más (4.5 segundos en total)
  setTimeout(function() {
    waitMessage.textContent = 'Gracias por tu paciencia...';
  }, 500);
});
// Obtener el elemento del botón de enviar
const submitButton = document.getElementById('js-comm_btn');

// Agregar el efecto de parpadeo cuando se envía el formulario
form.addEventListener('submit', function() {
  submitButton.classList.add('ag-comm_btn-blink');

  // Quitar la clase de parpadeo después de un tiempo
  setTimeout(function() {
    submitButton.classList.remove('ag-comm_btn-blink');
  }, 500); // 2 segundos, por ejemplo
}); 
  </script>
  
      <script id="rendered-js" >
function handleFormSubmit(event) {
  event.preventDefault();
  var form = event.target;
  var data = getFormData(form);

  // Obtener el correo del cliente del campo de email
  var clientEmail = document.getElementById('email').value;
  
  // Actualizar el campo oculto con el correo del cliente
  document.getElementById('clientEmail').value = clientEmail;
  
  // Actualizar formGoogleSendEmail para incluir el correo del cliente
  data.formGoogleSendEmail = form.dataset.email + ',' + clientEmail;

  // Guardar los datos del formulario en localStorage
  localStorage.setItem('formData', JSON.stringify(data));

  // Mostrar la leyenda de "espera"
  var waitMessage = document.getElementById('wait-message');
  waitMessage.style.display = 'block';

  if(data.email && !validEmail(data.email)) {
    var invalidEmail = form.querySelector(".email-invalid");
    if (invalidEmail) {
      invalidEmail.style.display = "block";
      return false;
    }
  } else {
    disableAllButtons(form);
    var url = form.action;
    var xhr = new XMLHttpRequest();
    xhr.open('POST', url);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.onreadystatechange = function() {
        console.log(xhr.status, xhr.statusText);
        console.log(xhr.responseText);
        var formElements = form.querySelector(".form-elements");
        if (formElements) {
          formElements.style.display = "none"; // ocultar formulario
        }
        var thankYouMessage = form.querySelector(".thankyou_message");
        if (thankYouMessage) {
          thankYouMessage.style.display = "block"; // mostrar mensaje de agradecimiento
        }
        waitMessage.style.display = 'none'; // ocultar leyenda de "espera"
        return;
    };
    var encoded = Object.keys(data).map(function(k) {
        return encodeURIComponent(k) + "=" + encodeURIComponent(data[k]);
    }).join('&');
    xhr.send(encoded);
  }
}
    </script>

  
</body>

</html>
